<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
    <script src="jquery.treeview.js"></script>
    <link rel="stylesheet" href="jquery.treeview.css" />
    <link rel="stylesheet" href="screen.css" />
    <script type="text/javascript">
        $(document).ready(function(){
            var treeNodes = [
                {parent:-1,id:0,name:'root'},
                {parent:0,id:1,name:'x'},
                {parent:0,id:2,name:'y'},
                {parent:1,id:3,name:'z'},
                {parent:1,id:4,name:'w'},
                {parent:1,id:5,name:'c'},
                {parent:2,id:6,name:'d'}
            ];

            var buildNestedList2 = buildNestedList(treeNodes, -1);
            $('#tree').append(buildNestedList2);
            $("#browser").treeview({
                collapsed: true,
                animated: "medium"
            });


        }   )

        function buildNestedList(treeNodes, rootId) {
            var nodesByParent = {};

            $.each(treeNodes, function(i, node) {
                if (!(node.parent in nodesByParent)) nodesByParent[node.parent] = [];
                nodesByParent[node.parent].push(node);
            });

            function buildTree(children) {
                var $container = $("<ul id='browser' class='filetree'>");

                if (!children) return;
                $.each(children, function(i, child) {
                    $("<li>", {text: child.name})
                            .appendTo($container)
                            .append( buildTree(nodesByParent[child.id]) );
                });
                return $container;
            }
            return buildTree(nodesByParent[rootId]);
        }

    </script>


    <title></title>
</head>
<body>

<div id="tree">

</div>

</body>
</html>